<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UrURL Profile</title>
    <link rel="stylesheet" href="main.css">
    <script src="ururl-core.js"></script>
    <style>
        body { background: #fff; }
        .profile-header { background: var(--navy); color: white; padding: 60px 20px; text-align: center; }
        .avatar { width: 120px; height: 120px; border-radius: 50%; border: 4px solid var(--cyan); margin: 0 auto 15px; background-size: cover; background-position: center; background-color: #334155; }
        .links-container { padding: 30px 20px; max-width: 450px; margin: 0 auto; }
        .btn-action { display: block; background: #f8fafc; color: var(--navy); border: 2px solid var(--navy); padding: 16px; margin-bottom: 12px; text-align: center; text-decoration: none; font-weight: bold; border-radius: 8px; transition: 0.2s; }
        .btn-action:hover { background: var(--cyan); border-color: var(--cyan); }
    </style>
</head>
<body>

    <header class="profile-header">
        <div id="p-img" class="avatar"></div>
        <h1 id="p-name">Name Loading...</h1>
        <p id="p-bio" style="opacity: 0.8; margin-top: 10px;"></p>
    </header>

    <div class="links-container">
        <a href="#" id="p-link" class="btn-action">VISIT WEBSITE</a>
        <a href="#" id="p-email" class="btn-action">EMAIL ME</a>
        <a href="#" id="p-call" class="btn-action">SAVE CONTACT</a>
    </div>

    <footer style="text-align:center; padding:50px; opacity:0.3; font-size:12px;">
        <p>SECURED BY UrURL SYSTEM</p>
    </footer>

    <script>
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const suitcase = params.get('d');
            if (!suitcase) return;

            const data = UrURL.unpack(suitcase);
            if (!data) return;

            // Inject Data into HTML
            document.getElementById('p-name').innerText = data.name;
            document.getElementById('p-bio').innerText = data.bio;
            if(data.photo) document.getElementById('p-img').style.backgroundImage = `url('${data.photo}')`;
            
            // Setup Buttons
            document.getElementById('p-link').href = data.link;
            document.getElementById('p-email').href = `mailto:${data.email}`;
            document.getElementById('p-call').href = `tel:${data.contact}`;
        };
    </script>
</body>
</html>